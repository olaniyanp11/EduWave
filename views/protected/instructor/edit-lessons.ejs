<%- include('../../partials/header') %>

<section class="min-h-screen bg-gray-100 py-10">
  <div class="max-w-3xl mx-auto bg-white shadow-md rounded-lg p-8">
    <h2 class="text-3xl font-bold text-green-700 mb-6 flex items-center gap-2">
      <i class="fas fa-edit text-green-500"></i>
      Edit Lesson: <span class="text-gray-800"><%= lesson.title %></span>
    </h2>

    <form action="/instructor/lessons/<%= lesson._id %>/edit" method="POST" enctype="multipart/form-data" class="space-y-6">
      <div>
        <label class="block text-gray-700 font-semibold mb-1">Lesson Title</label>
        <input type="text" name="title" required value="<%= lesson.title %>"
               class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring focus:ring-green-300 focus:outline-none" />
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Lesson Content</label>
        <textarea name="content" rows="6"
                  class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring focus:ring-green-300 focus:outline-none"><%= lesson.content %></textarea>
      </div>

      <% if (lesson.video) { %>
        <div>
          <label class="block text-gray-700 font-semibold mb-2">Current Video</label>
          <video controls class="w-full mb-2">
            <source src="/uploads/videos/<%= lesson.video %>" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
          <p class="text-sm text-gray-500">Filename: <%= lesson.video %></p>
        </div>
      <% } %>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Replace Video (optional)</label>
        <input type="file" name="video" accept="video/*"
               class="w-full px-3 py-2 border border-gray-300 rounded-md" />
        <p class="text-sm text-gray-500 mt-1">Leave blank to keep the existing video.</p>
      </div>

      <div class="flex justify-end">
        <button type="submit"
                class="bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-md shadow">
          Save Changes
        </button>
      </div>
    </form>
  </div>
</section>

<%- include('../../partials/footer') %>
